<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NASA Urban Planning Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"/>
</head>
<body>
    <div class="dashboard">
        <div class="header">
            <h1>üåç NASA Urban Planning Dashboard</h1>
            <p>Click on the map to analyze urban areas - AI-powered temperature predictions</p>
        </div>

        <div class="card map-configuration">
            <h2>üó∫Ô∏è Map-Based Area Analysis</h2>
            
            <div class="map-controls">
                <div class="control-group">
                    <label>Area Type:</label>
                    <select id="areaTypeSelect">
                        <option value="auto_detect">Auto-Detect</option>
                        <option value="residential">Residential</option>
                        <option value="commercial">Commercial</option>
                        <option value="industrial">Industrial</option>
                        <option value="mixed_use">Mixed Use</option>
                    </select>
                </div>
                <div class="control-group">
                    <label>Quick Navigation:</label>
                    <select id="citySelect">
                        <option value="">Select city...</option>
                        <option value="Bhopal">Bhopal</option>
                        <option value="Delhi">Delhi</option>
                        <option value="Mumbai">Mumbai</option>
                    </select>
                </div>
            </div>

            <div id="selection-map" class="selection-map"></div>
            
            <div class="click-instruction">
                <p>üìç <strong>Click anywhere on the map</strong> to analyze urban configuration</p>
            </div>

            <div id="location-analysis" class="location-analysis hidden">
                <div class="analysis-header">
                    <h3>üìä Area Analysis Results</h3>
                    <span id="analysis-confidence" class="confidence-badge">85% confidence</span>
                </div>
                
                <div class="analysis-grid">
                    <div class="analysis-item">
                        <span class="analysis-label">Area Type:</span>
                        <span id="analyzed-area-type" class="analysis-value"></span>
                    </div>
                    <div class="analysis-item">
                        <span class="analysis-label">Vegetation:</span>
                        <span id="analyzed-vegetation" class="analysis-value"></span>
                    </div>
                    <div class="analysis-item">
                        <span class="analysis-label">Built Area:</span>
                        <span id="analyzed-built-area" class="analysis-value"></span>
                    </div>
                    <div class="analysis-item">
                        <span class="analysis-label">Water Bodies:</span>
                        <span id="analyzed-water" class="analysis-value"></span>
                    </div>
                    <div class="analysis-item">
                        <span class="analysis-label">Population Density:</span>
                        <span id="analyzed-population" class="analysis-value"></span>
                    </div>
                </div>

                <div id="area-suggestions" class="area-suggestions"></div>

                <button class="predict-btn" onclick="predictFromMapAnalysis()">
                    üå°Ô∏è Predict Temperature Impact
                </button>
            </div>
        </div>

        <div class="card results">
            <h2>üìä Prediction Results</h2>
            <div id="results" class="results-placeholder">
                <p>Click on the map and analyze an area to see predictions</p>
            </div>
            <div id="healthScore" class="health-score"></div>
            <div id="recommendations" class="recommendations"></div>
            <div id="impactFactors" class="impact-factors"></div>
        </div>

        <div class="card photo-upload">
            <h2>üì∏ Urban Photo Analysis</h2>
            <div class="upload-container">
                <input type="file" id="photoUpload" accept="image/*" class="file-input">
                <label for="photoUpload" class="file-label">Choose Urban Photo</label>
            </div>
            <div id="photoAnalysis" class="photo-analysis"></div>
        </div>

        <div class="card heat-map">
            <h2>üî• Urban Heat Map</h2>
            <div id="heat-map-container" class="heat-map-container"></div>
            <div id="heatmapInfo" class="heatmap-info"></div>
        </div>

        <div class="card spline-3d">
            <h2>üèóÔ∏è 3D Urban Models</h2>
            <div class="spline-container">
                <iframe src="https://my.spline.design/untitled-c6aae1c2c1f1c1a1a1a1a1a1a1a1a1a1/" 
                        frameborder="0" 
                        class="spline-frame">
                </iframe>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>